{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\risha\\\\Music\\\\connect-four-main\\\\frontend\\\\src\\\\components\\\\Board.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Slot } from \"./Slot\";\nimport { useSocket } from \"../context/SocketContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Board = ({\n  onLeaveRoom\n}) => {\n  _s();\n  var _players$find2, _players$find3;\n  const {\n    gameState,\n    currentPlayer,\n    gameOver,\n    winner,\n    players,\n    makeMove,\n    resetGame,\n    playerName,\n    leaveRoom,\n    socket,\n    roomId\n  } = useSocket();\n  const [board, setBoard] = useState(null);\n  const [isMyTurn, setIsMyTurn] = useState(false);\n  useEffect(() => {\n    if (gameState) {\n      var _players$find;\n      setBoard(gameState.board);\n\n      // Determine if it's the current player's turn based on their color\n      const myColor = (_players$find = players.find(p => p.name === playerName)) === null || _players$find === void 0 ? void 0 : _players$find.color;\n      setIsMyTurn(myColor === currentPlayer);\n    }\n  }, [gameState, currentPlayer, playerName, players]);\n  const handleClick = e => {\n    if (!isMyTurn || gameOver || !socket) return;\n    const column = parseInt(e.target.getAttribute('x'));\n    makeMove(column);\n  };\n  if (!board || !gameState) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"board-loading\",\n      children: \"Loading game...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 16\n    }, this);\n  }\n  const myColor = (_players$find2 = players.find(p => p.name === playerName)) === null || _players$find2 === void 0 ? void 0 : _players$find2.color;\n  const opponentColor = myColor === 'red' ? 'yellow' : 'red';\n  const opponentName = ((_players$find3 = players.find(p => p.color === opponentColor)) === null || _players$find3 === void 0 ? void 0 : _players$find3.name) || 'Waiting...';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player-item my-player\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-color\",\n            style: {\n              backgroundColor: myColor\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-name\",\n            children: [playerName, \" (You)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vs\",\n          children: \"vs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player-item opponent-player\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-color\",\n            style: {\n              backgroundColor: opponentColor\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-name\",\n            children: opponentName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), !gameOver && /*#__PURE__*/_jsxDEV(\"h2\", {\n        id: \"playerDisplay\",\n        className: isMyTurn ? 'my-turn' : 'opponent-turn',\n        children: isMyTurn ? 'Your Turn' : `${opponentName}'s Turn`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), gameOver && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-over-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Game Over!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), winner ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"winner-text\",\n        children: winner === myColor ? `ðŸŽ‰ You Win! ðŸŽ‰` : `${opponentName} Wins!`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"draw-text\",\n        children: \"It's a Draw!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"board\",\n      className: \"board-grid\",\n      onClick: !gameOver && isMyTurn ? handleClick : null,\n      style: {\n        cursor: isMyTurn && !gameOver ? 'pointer' : 'default'\n      },\n      children: board.map((row, i) => {\n        return row.map((ch, j) => /*#__PURE__*/_jsxDEV(Slot, {\n          ch: ch,\n          y: i,\n          x: j\n        }, `${i}-${j}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this));\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-controls\",\n      children: [gameOver && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetGame,\n        className: \"btn btn-primary\",\n        children: \"Play Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          leaveRoom();\n          onLeaveRoom();\n        },\n        className: \"btn btn-secondary\",\n        children: \"Leave Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(Board, \"EjoWtyIBc+dzPTHy2qmInyXhxW8=\", false, function () {\n  return [useSocket];\n});\n_c = Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","useState","useEffect","Slot","useSocket","jsxDEV","_jsxDEV","Board","onLeaveRoom","_s","_players$find2","_players$find3","gameState","currentPlayer","gameOver","winner","players","makeMove","resetGame","playerName","leaveRoom","socket","roomId","board","setBoard","isMyTurn","setIsMyTurn","_players$find","myColor","find","p","name","color","handleClick","e","column","parseInt","target","getAttribute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","opponentColor","opponentName","style","backgroundColor","id","onClick","cursor","map","row","i","ch","j","y","x","_c","$RefreshReg$"],"sources":["C:/Users/risha/Music/connect-four-main/frontend/src/components/Board.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Slot } from \"./Slot\";\nimport { useSocket } from \"../context/SocketContext\";\n\nexport const Board = ({ onLeaveRoom }) => {\n    const {\n        gameState,\n        currentPlayer,\n        gameOver,\n        winner,\n        players,\n        makeMove,\n        resetGame,\n        playerName,\n        leaveRoom,\n        socket,\n        roomId\n    } = useSocket();\n\n    const [board, setBoard] = useState(null);\n    const [isMyTurn, setIsMyTurn] = useState(false);\n\n    useEffect(() => {\n        if (gameState) {\n            setBoard(gameState.board);\n            \n            // Determine if it's the current player's turn based on their color\n            const myColor = players.find(p => p.name === playerName)?.color;\n            setIsMyTurn(myColor === currentPlayer);\n        }\n    }, [gameState, currentPlayer, playerName, players]);\n\n    const handleClick = (e) => {\n        if (!isMyTurn || gameOver || !socket) return;\n\n        const column = parseInt(e.target.getAttribute('x'));\n        makeMove(column);\n    };\n\n    if (!board || !gameState) {\n        return <div className=\"board-loading\">Loading game...</div>;\n    }\n\n    const myColor = players.find(p => p.name === playerName)?.color;\n    const opponentColor = myColor === 'red' ? 'yellow' : 'red';\n    const opponentName = players.find(p => p.color === opponentColor)?.name || 'Waiting...';\n\n    return (\n        <div className=\"game-container\">\n            <div className=\"game-header\">\n                <div className=\"player-info\">\n                    <div className=\"player-item my-player\">\n                        <div className=\"player-color\" style={{ backgroundColor: myColor }}></div>\n                        <div className=\"player-name\">{playerName} (You)</div>\n                    </div>\n                    <div className=\"vs\">vs</div>\n                    <div className=\"player-item opponent-player\">\n                        <div className=\"player-color\" style={{ backgroundColor: opponentColor }}></div>\n                        <div className=\"player-name\">{opponentName}</div>\n                    </div>\n                </div>\n                \n                {!gameOver && (\n                    <h2 id='playerDisplay' className={isMyTurn ? 'my-turn' : 'opponent-turn'}>\n                        {isMyTurn ? 'Your Turn' : `${opponentName}'s Turn`}\n                    </h2>\n                )}\n            </div>\n\n            {gameOver && (\n                <div className=\"game-over-message\">\n                    <h2>Game Over!</h2>\n                    {winner ? (\n                        <p className=\"winner-text\">\n                            {winner === myColor ? `ðŸŽ‰ You Win! ðŸŽ‰` : `${opponentName} Wins!`}\n                        </p>\n                    ) : (\n                        <p className=\"draw-text\">It's a Draw!</p>\n                    )}\n                </div>\n            )}\n\n            <div \n                id='board'\n                className=\"board-grid\"\n                onClick={!gameOver && isMyTurn ? handleClick : null}\n                style={{ cursor: isMyTurn && !gameOver ? 'pointer' : 'default' }}\n            >\n                {board.map((row, i) => {\n                    return row.map((ch, j) => (\n                        <Slot key={`${i}-${j}`} ch={ch} y={i} x={j} />\n                    ));\n                })}\n            </div>\n\n            <div className=\"game-controls\">\n                {gameOver && (\n                    <button onClick={resetGame} className=\"btn btn-primary\">\n                        Play Again\n                    </button>\n                )}\n                <button \n                    onClick={() => {\n                        leaveRoom();\n                        onLeaveRoom();\n                    }} \n                    className=\"btn btn-secondary\"\n                >\n                    Leave Room\n                </button>\n            </div>\n        </div>\n    );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}